<!DOCTYPE html>

<html>
    <head>
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <h1>Press F12 to open the developer tools, select console and type game() to play.</h1>
        <script>
            let playerScore = 0;
            let computerScore = 0;

            function randomChoice() {
                return Math.floor(Math.random() * 3);
            }

            function computerPlay() {
                let choice = randomChoice();

                switch (choice) {
                    case 0:
                        return "rock";
                        break;
                    case 1:
                        return "paper";
                        break;
                    case 2:
                        return "scissors";
                        break;
                }
            }

            function playRound(playerSelection, computerSelection) {
                let lowerCasePlayerSelection = playerSelection.toLowerCase();

                if (lowerCasePlayerSelection === computerSelection) {
                    return "It's a draw!";
                }
                switch (lowerCasePlayerSelection) {
                    case "rock":
                        if (computerSelection === "paper") {
                            computerScore++;
                            return "You lose! Paper beats rock.";
                        }
                        playerScore++;
                        return "You win! Rock beats scissors";
                    case "paper":
                        if (computerSelection === "scissors") {
                            computerScore++
                            return "You lose! Scissors beats paper.";
                        }
                        playerScore++;
                        return "You win! Paper beats rock";
                    case "scissors":
                        if (computerSelection === "rock") {
                            computerScore++;
                            return "You lose! Rock beats scissors.";
                        }
                        playerScore++;
                        return "You win! scissors beats paper";
                    default:
                        return "That's not a valid play, you must type either rock, paper or scissors.";
                }
            }

            function game() {
                let round = 1;
                while (round <= 5) {
                    let output = playRound(prompt("type either rock, paper or scissors to play: "), computerPlay());
                    while (output === "That's not a valid play, you must type either rock, paper or scissors.") {
                        console.log(output);
                        output = playRound(prompt("type either rock, paper or scissors to play: "), computerPlay());
                    }
                    console.log(output);
                    round++;
                }
                
                if (playerScore > computerScore) {
                    console.log("You win the game!");
                }
                else if (computerScore > playerScore) {
                    console.log("You lose the game! Tough luck.");
                }
                else {
                    console.log("The game ended in a tie!");
                }

                playerScore = 0;
                computerScore = 0;
            }
        </script>
    </body>
</html>